/*! Real Shadow v1.3.3 http://indamix.github.io/real-shadow | https://raw.github.com/Indamix/real-shadow/master/license.txt */
(function(k,p){function e(b,f){this!==k&&(f=b,b=this);f=f||{};for(var a=0;a<b.length;++a){var c=b[a],d=f,l=t(c),c={node:c,x:l.x,y:l.y,c:c.getAttribute("data-shadow-color")||d.color,inset:d.inset?"inset":"",inverse:d.inverse?-1:1};d.pageX!==p&&(c.pageX=d.pageX);d.pageY!==p&&(c.pageY=d.pageY);c.type=d.type;if("drop"===d.type){if(r===p){var l=(l="webkit","-"+l+"-"),g=document.createElement("div");g.style.cssText=l+"filter:drop-shadow(0 0 0 #000)";r=0<g.style.length}c.length=d.length||4;c.opacity=d.opacity||
0.2}else c.length=d.length||7,c.opacity=d.opacity||0.05;"flat"===d.style&&(c.style=d.style,c.length=d.length||40,c.opacity=d.opacity||1);m.push(c)}s||(!1!==f.followMouse&&(document.body.addEventListener("mousemove",e.frame),s=!0),k.addEventListener("resize",e.update));e.frame();return b}function u(b){return(0===b?0:0>b?1:-1)*Math.pow(Math.abs(b),1/3)}function t(b){var f=b.clientWidth>>1,a=b.clientHeight>>1;do f+=b.offsetLeft,a+=b.offsetTop;while(b=b.offsetParent);return{x:f,y:a}}var v=1/1500,w=Math.PI,
m=[],s,r;e.reset=function(){m=[];document.body.removeEventListener("mousemove",e.frame);k.removeEventListener("resize",e.update);s=!1};e.update=function(){for(var b=m.length,f;b--;){f=m[b];var a=t(f.node);f.x=a.x;f.y=a.y}e.frame()};e.frame=function(b){b||(b={pageX:k.innerWidth>>1,pageY:0});for(var f=m.length,a;f--;){a=m[f];var c=(a.pageX===p?b.pageX:a.pageX)-a.x,d=(a.pageY===p?b.pageY:a.pageY)-a.y,e=Math.pow(c*c+d*d,0.8)*v+1;2.3<e&&(e=2.3);if("drop"!==a.type||r){for(var g=Math.atan2(c,d)-w,c=Array(a.length-
1),d=Math.cos(g),g=Math.sin(g),h=void 0,n=1;n<a.length;++n)h=("flat"===a.style?n:Math.pow(n,e))*a.inverse,c[n-1]=(h*g|0)+"px "+(h*d|0)+"px "+("flat"===a.style?0:Math.pow(n,1.7)|0)+"px rgba("+(a.c||"0,0,0")+","+a.opacity+")"+a.inset;"drop"===a.type?a.node.style.webkitFilter="drop-shadow("+c.join(") drop-shadow(")+")":a.node.style["text"===a.type?"textShadow":"boxShadow"]=c.join(",")}else a.filter||(g="real-shadow-"+Math.random().toString(36).substr(2),h=(new DOMParser).parseFromString('<svg height="0" xmlns="http://www.w3.org/2000/svg"><filter id="'+
g+'"><feGaussianBlur in="SourceAlpha"/><feOffset result="b"/><feFlood/><feComposite in2="b" operator="in"/><feMerge><feMergeNode/><feMergeNode in="SourceGraphic"/></feMerge></filter></svg>',"application/xml"),a.filter={offset:h.getElementsByTagName("feOffset")[0],blur:h.getElementsByTagName("feGaussianBlur")[0],color:h.getElementsByTagName("feFlood")[0]},document.body.appendChild(h.children[0]),a.node.style.filter="url(#"+g+")"),a.filter.offset.setAttribute("dx",u(c)),a.filter.offset.setAttribute("dy",
u(d)),a.filter.blur.setAttribute("stdDeviation",2*e),a.filter.color.setAttribute("flood-color","rgba(0,0,0,"+(0.6-e/8)+")")}};var q=!1;"function"===typeof k.jQuery&&($.fn.realshadow=e,q=!0);"undefined"!==typeof define&&define.amd&&(define(function(){return e}),q=!0);"undefined"!==typeof module&&module.exports&&(module.exports=e,q=!0);q||(k.realshadow=e)})(this);